# Environment Variables for pankha Repository


# PostgreSQL Database Configuration
POSTGRES_DB=db_pankha
POSTGRES_USER=pankha_user
POSTGRES_PASSWORD=pankha_password

# Port Configuration (Host/External Ports - what you connect to from outside)
PANKHA_PORT=3000      # HTTP/Web server port (browser connects here)
WS_PORT=3002          # WebSocket port (frontend WebSocket connects here)
POSTGRES_PORT=5432    # PostgreSQL port (database clients connect here)

# Database Connection String - REQUIRED (do not enclose or use "" or '')
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
# DATABASE_URL=postgresql://pankha:pankha_password@pankha-postgres:5432/db_pankha
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@pankha-postgres:${POSTGRES_PORT}/${POSTGRES_DB}

# Environment (development/production)
NODE_ENV=production

# Logging Configuration
# LOG_LEVEL: Set logging verbosity (error, warn, info, debug, trace), default=warn
LOG_LEVEL=info

# Extra Environment Variables:
# TIMEZONE: Set the timezone for the application (default: UTC), remove # to set
#TIMEZONE=Asia/Kolkata

# PostgreSQL Performance Tuning (Optional) (leave as is unless you know what you're doing)
# Controls transaction log size and cleanup behavior to prevent disk space bloat
POSTGRES_MAX_WAL_SIZE=256MB
# Minimum WAL to keep (default: 80MB), PostgreSQL recycles old WAL files down to this minimum
POSTGRES_MIN_WAL_SIZE=80MB
# Time between checkpoints (default: 5min)
POSTGRES_CHECKPOINT_TIMEOUT=5min
# WAL size to keep for recovery purposes (default: 64MB)
POSTGRES_WAL_KEEP_SIZE=64MB

# Data Management Configuration
# DATA_RETENTION_DAYS: How many days to keep historical monitoring data (default: 30)
# Lower values = less disk space usage, but less historical data for analysis
DATA_RETENTION_DAYS=30

# DATA_AGGREGATION_INTERVAL_MINUTES: How often to store aggregated data to database (default: 5)
# Dashboard always gets real-time raw data, only aggregated averages are stored to DB
# Lower values = more granular historical data but more disk space usage
# Higher values = less disk space but less detailed historical trends
DATA_AGGREGATION_INTERVAL_MINUTES=1

# Authentication Secrets - CHANGE THESE (use anything random and long)
JWT_SECRET=your-super-secret-jwt-key-change-this
SESSION_SECRET=your-super-secret-session-key-change-this